{{template "_base.html" .}}

{{define "title"}}
  TEST | {{.current.Title}}
{{end}}

{{define "body"}}



<section class="section">
    <div class="container">


        <nav class="navbar" role="navigation" aria-label="main navigation">
          <div class="navbar-brand">
            <a class="navbar-item" href="https://bulma.io">
              <img src="/theme_assets/img/logo.svg" width="200" height="56">
            </a>

            <a role="button" class="navbar-burger burger" aria-label="menu" aria-expanded="false" data-target="navbarBasicExample">
              <span aria-hidden="true"></span>
              <span aria-hidden="true"></span>
              <span aria-hidden="true"></span>
            </a>
          </div>

          <div id="navbarBasicExample" class="navbar-menu">
            <div class="navbar-start">
              <a href="{{.pages.AbsSlug}}" class="navbar-item">
                {{.pages.Title}}
              </a>

              {{range .pages.Children}}
              {{ if .Children}}

              <div class="navbar-item has-dropdown is-hoverable">
                <a class="navbar-link">{{.Title}}</a>

                <div class="navbar-dropdown">
                    <a href="{{.AbsSlug}}" class="navbar-item">{{.Title}}</a>
                    {{range .Children}}
                        <a href="{{.AbsSlug}}" class="navbar-item">{{.Title}}</a>
                  {{end}}
                </div>
              </div>

              {{ else }}
              <a class="navbar-item">{{.Title}}</a>
              {{end}}
              {{end}}


            </div>

            <div class="navbar-end">
              <div class="navbar-item">

              </div>
            </div>
          </div>
        </nav>


<div class="columns">
  <div class="column">
      <h1 class="title">{{.current.Title}}</h1>
  </div>
</div>


<div class="columns">
  <div class="column">
    {{.current.Content}}
  </div>
  <div class="column">
    Second column
  </div>
  <div class="column">
    Third column
  </div>
  <div class="column">
    Fourth column

    {{if .current.Parent}}
    <aside class="menu">
      <p class="menu-label">
        {{if .current.Parent.Parent}}
            {{.current.Parent.Parent.Title}}
        {{else}}
            Submenu
        {{end}}
      </p>
      <ul class="menu-list">
          {{range .current.Parent.Children}}
              <li>
                  <ul>
                  {{range .Children}}
                      <li><a href="{{.AbsSlug}}">{{.Title}}</a></li>
                  {{end}}
                  </ul>
              </li>
          {{end}}
      </ul>
    </aside>
    {{end}}

  </div>
</div>

</div>
</section>


<section class="section">
    <div class="container">

<div id="app">
  ${ message }
</div>

    </div>
  </section>





    <script>
        var app = new Vue({
          delimiters: ['${', '}'],
          el: '#app',
          data: {
            message: 'You loaded this page on ' + new Date().toLocaleString()
          }
        })
    </script>


    <script>

        document.addEventListener('DOMContentLoaded', () => {

          // Get all "navbar-burger" elements
          const $navbarBurgers = Array.prototype.slice.call(document.querySelectorAll('.navbar-burger'), 0);

          // Check if there are any navbar burgers
          if ($navbarBurgers.length > 0) {

            // Add a click event on each of them
            $navbarBurgers.forEach( el => {
              el.addEventListener('click', () => {

                // Get the target from the "data-target" attribute
                const target = el.dataset.target;
                const $target = document.getElementById(target);

                // Toggle the "is-active" class on both the "navbar-burger" and the "navbar-menu"
                el.classList.toggle('is-active');
                $target.classList.toggle('is-active');

              });
            });
          }

        });

    </script>
{{end}}
